{% extends "site.html" %}

{% load i18n %}
{% load account %}
{% load url from future %}

{% block sub_title %}{% trans "Cuadrilla de bomberos" %}{% endblock %}
{% block navbar_title %}
  <a href="{% url 'bombero_list' %}">{% trans "Cuadrilla de bomberos" %}</a>
{% endblock %}

{% block content %}

  <div class="fixed-action-btn" style="margin-top: 20px; margin-right: 20px; bottom: 45px; right: 24px;">
    <a class="btn-floating btn-large right red tooltipped"
      href="{% url 'bombero_add' %}" data-position="left" data-tooltip="Agregar nuevo miembro a la cuadrilla">
      <i class="mdi-content-add"></i>
    </a>
  </div>

<div class="container">
  <div class="row">
    <table class="striped">
      <thead>
        <tr>
          <th><i class="mdi-social-group"></i> Apellido y Nombre</th>
          <th><i class="mdi-hardware-security"></i> Especialidad</th>
          <th><i class="mdi-communication-phone"></i> Celular</th>
          <th><i class="mdi-social-people-outline"></i> Cargo</th>
          <th><i class="mdi-social-school"></i> Jerarquia</th>
          <th><i class="mdi-social-notifications-on"></i> Acciones</th>
        </tr>
      </thead>
      <tbody>
        {% for bombero in bombero_list %}
          <tr>
            <td>
              <a href='{% url "bombero_view" bombero.id %}'>
                {{ bombero.apellido|title }} {{ bombero.nombre|title }}
              </a>
            </td>
            <td>{{ bombero.especialidad|title }}</td>
            <td>{{ bombero.telefono_celular }}</td>
            <td>{{ bombero.cargo|title }}</td>
            <td>{{ bombero.jerarquia|title }}</td>
            <td>
              {% if bombero.estado == 'CUERPO ACTIVO' %}
                <a class="tooltipped btn-floating btn-small waves-effect waves-light green darken-1"
                  data-position="top" data-tooltip="{{ bombero.estado|title }}">
                  <i class="mdi-navigation-check"></i>
                </a>              
              {% else %}
                <a class="tooltipped btn-floating btn-small waves-effect waves-light grey darken-1"
                  data-position="top" data-tooltip="{{ bombero.estado|title }}">
                  <i class="mdi-navigation-close"></i>
                </a>              
              {% endif %}
              <a class="tooltipped btn-floating btn-small waves-effect waves-light yellow darken-1"
                data-position="top" data-tooltip="Modificar los datos"
                href='{% url "bombero_update" bombero.id %}'>
                <i class="mdi-editor-mode-edit"></i>
              </a>              
              <a class="tooltipped btn-floating btn-small waves-effect waves-light blue darken-1"
                data-position="top" data-tooltip="Ver todos los datos"
                href='{% url "bombero_view" bombero.id %}'>
                <i class="mdi-action-find-in-page"></i>
              </a>              
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<div class="container">
  <div class="row">
    <div class="col s12">
      {% if is_paginated %}
      <div class="pagination">
        <span class="step-links">
          {% if page_obj.has_previous %}
            <a class="btn" href="?page={{ page_obj.previous_page_number }}">
              Anterior 
            </a>
          {% endif %}
          <a class="btn disabled" href="#">Página {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}</a>
          {% if page_obj.has_next %}
            <a class="btn" href="?page={{page_obj.next_page_number}}">Próximo
            </a>
          {% endif %}
        </span>
      </div>
      {% endif %}
    </div>
  </div>
</div>

{% endblock %}

{% block endscripts %}
  <script type="text/javascript">
    $(document).ready(function(){
      $('.tooltipped').tooltip({delay: 50});
    });
  </script>
{% endblock %}
